{% extends "base.html" %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 md:px-6 py-8 space-y-8">
    <!-- Brand / hero -->
    <header class="text-center md:text-left">
      <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-neutral-100">Facter</h1>
      <p class="mt-2 text-neutral-400">Fast evidence. Clear answers.</p>
    </header>
  
    <!-- Enhanced Search -->
    <form id="searchForm" class="flex flex-col md:flex-row gap-4 items-stretch md:items-center">
      <input id="q" autocomplete="off" placeholder="Ask a focused medical research question…"
             class="flex-1 rounded-2xl bg-neutral-900 border-2 border-neutral-700 px-6 py-5 text-lg text-neutral-100 outline-none focus:ring-2 focus:ring-cyan-400/70 focus:border-cyan-400/50 transition-all duration-200" />
      <div class="flex gap-3">
        <select id="queryType"
                class="rounded-xl bg-neutral-900 border-2 border-neutral-700 px-4 py-4 text-base text-neutral-200 focus:ring-2 focus:ring-cyan-400/60 transition-all duration-200">
          <option value="Health/Bio" selected>Health/bio</option>
        </select>
        <button id="btn-search" type="submit" class="btn-primary px-6 py-4 rounded-xl text-base font-semibold hover:scale-105 transition-transform duration-200">
          Search
        </button>
      </div>
    </form>
  
    <!-- Stacked layout: Summary, Citations, Answer -->
    <div class="space-y-6">
      <!-- Summary section - full width -->
      <section>
        <h2 class="section-title text-lg mb-4 flex items-center gap-3">
          
          Summary
        </h2>
        <div id="summary" class="summary-card text-lg leading-7 min-h-[100px] p-5">
          <div class="text-neutral-400 text-center py-6">Search to generate a summary of the research findings.</div>
        </div>
      </section>

      <!-- Citations section - full width -->
      <section>
        <h2 class="section-title text-lg mb-4 flex items-center gap-3">
          
          Citations 
          <span id="citationsCount" class="badge text-xs">0</span>
        </h2>
        <div id="citations" class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[400px] overflow-y-auto">
          <!-- Citations will be populated here -->
        </div>
        <div id="showMoreBtn" class="hidden mt-4 text-center">
          <button class="text-cyan-400 hover:text-cyan-300 text-sm font-medium transition-colors duration-200">
            Show more citations ↓
          </button>
        </div>
      </section>

      <!-- Answer section - full width -->
      <section>
        <h2 class="section-title text-xl mb-4 flex items-center gap-3">
          
          Detailed Answer
        </h2>
        <div id="answer" class="answer-card whitespace-pre-wrap text-lg leading-8 min-h-[200px] p-6">
          <div class="text-neutral-400 text-center py-8">Search to generate an evidence-based answer.</div>
        </div>
      </section>
    </div>
  </div>
  
{% endblock %}
